@page

@model MovieProject.Pages.IndexModel


@{
    ViewData["Title"] = "Home page";
}
<h1>Movies List</h1>
<form method="get">
    
    <label>Search By Title</label>
    <input type="text" name="title"/>
   @*  <label>Search By Director</label>
    <input type="text" name="director" /> *@
    <button type="submit">Search</button>
</form>
<div class="container-fluid">
    <div class="container">
        <div class="row mt-1">
            @foreach (var movie in Model.Movies)
            {
                <div class="col-md-3 mt1">
                    <div class="card-deck">
                        <div class="card cards">
                            <img src="@movie.image" alt="@movie.image" />
                            <a asp-page="Details"  asp-route-id="@movie.id" class="btn btn-primary">Detail</a>
                        </div>
                       
                        
                    </div>
                   
                </div>
            }
            <nav class="row" aria-label="Page navigation">
                <ul class="pagination  justify-content-end">
                    @if (Model.CurrentPage > 1)
                    {
                        <li class="page-item">
                            <a class="page-link" href="?currentPage=@(Model.CurrentPage - 1)" aria-label="Previous">
                                <span aria-hidden="true">&laquo;</span>
                            </a>
                        </li>
                    }
                    @for (int i = 1; i <= Model.TotalPages; i++)
                    {
                        <li class="page-item @(i == Model.CurrentPage ? "active" : "")">
                            <a class="page-link" href="?currentPage=@i">@i</a>
                        </li>
                    }
                    @if (Model.CurrentPage < Model.TotalPages)
                    {
                        <li class="page-item">
                            <a class="page-link" href="?currentPage=@(Model.CurrentPage + 1)" aria-label="Next">
                                <span aria-hidden="true">&raquo;</span>
                            </a>
                        </li>
                    }
                </ul>
            </nav>
        </div>
    </div>
</div>

 
